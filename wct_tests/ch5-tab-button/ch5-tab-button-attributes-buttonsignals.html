<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <script src="/webcomponentsjs/webcomponents-lite.js"></script>
  <script src="/bower_components/web-component-tester/browser.js"></script>
  <link rel="stylesheet" type="text/css" href="/wct_tests/themes/crestron-components-assets/base.css">
  <script src="/wct_tests/js/helpers.js"></script>
  <script src="/build_bundles/umd/cr-com-lib.js"></script>
  <script src="/wct_tests/ch5-button-list/js/helpers.js"></script>
</head>

<body>

  <test-fixture id="ch5-tab-button-buttonReceiveStateIconClass">
    <template>
      <ch5-tab-button buttonReceiveStateIconClass="button-icon-0"></ch5-tab-button>
    </template>
  </test-fixture>

  <test-fixture id="ch5-tab-button-buttonReceiveStateScriptLabelHtml">
    <template>
      <ch5-tab-button buttonReceiveStateScriptLabelHtml="btn-script"></ch5-tab-button>
    </template>
  </test-fixture>

  <test-fixture id="ch5-tab-button-buttonReceiveStateSelected">
    <template>
      <ch5-tab-button buttonReceiveStateSelected="btn-selected"></ch5-tab-button>
    </template>
  </test-fixture>

  <test-fixture id="ch5-tab-button-buttonReceiveStateSelected-buttonReceiveStateIconClass">
    <template>
      <ch5-tab-button buttonReceiveStateSelected="btn-selected" buttonReceiveStateIconClass="button-icon-0">
      </ch5-tab-button>
    </template>
  </test-fixture>

  <test-fixture id="ch5-tab-button-buttonReceiveStateIconUrl-buttonReceiveStateIconClass">
    <template>
      <ch5-tab-button buttonReceiveStateIconUrl="button-url-0" buttonReceiveStateIconClass="button-icon-0">
      </ch5-tab-button>
    </template>
  </test-fixture>

  <test-fixture id="ch5-tab-button-buttonReceiveStateLabel-buttonReceiveStateScriptLabelHtml">
    <template>
      <ch5-tab-button buttonReceiveStateLabel="button-label-0" buttonReceiveStateScriptLabelHtml="button-script-0">
      </ch5-tab-button>
    </template>
  </test-fixture>

  <test-fixture id="ch5-tab-button-buttonReceiveStateShow">
    <template>
      <ch5-tab-button buttonReceiveStateShow="btn-show">
      </ch5-tab-button>
    </template>
  </test-fixture>

  <test-fixture id="ch5-tab-button-buttonReceiveStateEnable">
    <template>
      <ch5-tab-button buttonReceiveStateEnable="button-enable-0">
      </ch5-tab-button>
    </template>
  </test-fixture>

  <script>

    suite('ch5-tab-button-buttonReceiveStateIconClass', () => {
      let ch5TabButton1;

      setup(async () => {
        const emulatorJson = await fetch('./emulator/buttonreceivestateenable.json').then((response) => response.json());
        const emulator = CrComLib.Ch5Emulator.getInstance();
        emulator.loadScenario(emulatorJson);
        ch5TabButton1 = fixture('ch5-tab-button-buttonReceiveStateIconClass');
      });

      test(`check attribute buttonReceiveStateIconClass`, (done) => {
        ch5TabButton1.setAttribute('numberOfItems', 2);
        ch5TabButton1.setAttribute('orientation', 'vertical');
        CrComLib.publishEvent('b', 'btn-icon-class', true);
        flush(() => {
          setTimeout(() => {
            const iconDiv = document.querySelector('.ch5-button--span');
            expect(iconDiv.childNodes[0].classList.contains('fa-anchor')).to.be.equal(true);
            expect(iconDiv.childNodes[0].classList.contains('fas')).to.be.equal(true);
            done();
          }, 500);
        });
      });
    });

    suite('ch5-tab-button-buttonReceiveStateScriptLabelHtml', () => {
      let ch5TabButton1;

      setup(async () => {
        const emulatorJson = await fetch('./emulator/buttonreceivestateenable.json').then((response) => response.json());
        const emulator = CrComLib.Ch5Emulator.getInstance();
        emulator.loadScenario(emulatorJson);
        ch5TabButton1 = fixture('ch5-tab-button-buttonReceiveStateScriptLabelHtml');
      });

      test(`check attribute buttonReceiveStateScriptLabelHtml`, (done) => {
        ch5TabButton1.setAttribute('numberOfItems', 2);
        ch5TabButton1.setAttribute('orientation', 'vertical');
        CrComLib.publishEvent('b', 'btn-script-label', true);
        flush(() => {
          setTimeout(() => {
            const iTagParent = document.querySelector('.ch5-button--label');
            expect(iTagParent.children[0].innerHTML).to.be.equal('set-script-0');
            expect(iTagParent.children[0].tagName).to.be.equal('I');
            done();
          }, 500);
        });
      });
    });

    suite('ch5-tab-button-buttonReceiveStateSelected', () => {
      let ch5TabButton1;

      setup(async () => {
        const emulatorJson = await fetch('./emulator/buttonreceivestateenable.json').then((response) => response.json());
        const emulator = CrComLib.Ch5Emulator.getInstance();
        emulator.loadScenario(emulatorJson);
        ch5TabButton1 = fixture('ch5-tab-button-buttonReceiveStateSelected');
      });

      test(`check attribute buttonReceiveStateSelected`, (done) => {
        ch5TabButton1.setAttribute('numberOfItems', 2);
        ch5TabButton1.setAttribute('orientation', 'vertical');
        CrComLib.publishEvent('b', 'btn-select', true);
        flush(() => {
          setTimeout(() => {
            expect(ch5TabButton1.buttonReceiveStateSelected).to.be.equal('btn-selected');
            expect(document.querySelector('.ch5-button').classList.contains("ch5-button--selected")).to.be.equal(true);
            done();
          }, 500);
        });
      });
    });

    suite('ch5-tab-button-buttonReceiveStateSelected-buttonReceiveStateIconClass', () => {
      let ch5TabButton1;

      setup(async () => {
        const emulatorJson = await fetch('./emulator/buttonreceivestateenable.json').then((response) => response.json());
        const emulator = CrComLib.Ch5Emulator.getInstance();
        emulator.loadScenario(emulatorJson);
        ch5TabButton1 = fixture('ch5-tab-button-buttonReceiveStateSelected-buttonReceiveStateIconClass');
      });

      test(`check attribute buttonReceiveStateSelected and buttonReceiveStateIconClass`, (done) => {
        ch5TabButton1.setAttribute('numberOfItems', 2);
        ch5TabButton1.setAttribute('orientation', 'vertical');
        CrComLib.publishEvent('b', 'btn-select', true);
        flush(() => {
          setTimeout(() => {
            const iconDiv = document.querySelector('.ch5-button--span');
            expect(ch5TabButton1.buttonReceiveStateSelected).to.be.equal('btn-selected');
            expect(ch5TabButton1.buttonReceiveStateIconClass).to.be.equal('button-icon-0');
            expect(document.querySelector('.ch5-button').classList.contains("ch5-button--selected")).to.be.equal(true);
            expect(iconDiv.childNodes[0].classList.contains('fa-anchor')).to.be.equal(true);
            expect(iconDiv.childNodes[0].classList.contains('fas')).to.be.equal(true);
            done();
          }, 500);
        });
      });
    });

    suite('ch5-tab-button-buttonReceiveStateIconUrl-buttonReceiveStateIconClass', () => {
      let ch5TabButton1;

      setup(async () => {
        const emulatorJson = await fetch('./emulator/buttonreceivestateenable.json').then((response) => response.json());
        const emulator = CrComLib.Ch5Emulator.getInstance();
        emulator.loadScenario(emulatorJson);
        ch5TabButton1 = fixture('ch5-tab-button-buttonReceiveStateIconUrl-buttonReceiveStateIconClass');
      });

      test(`check attribute buttonReceiveStateIconUrl and buttonReceiveStateIconClass`, (done) => {
        ch5TabButton1.setAttribute('numberOfItems', 2);
        ch5TabButton1.setAttribute('orientation', 'vertical');
        CrComLib.publishEvent('b', 'btn-icon-class-url', true);
        flush(() => {
          setTimeout(() => {
            const iconDiv = document.querySelector('.ch5-button--span');
            expect(ch5TabButton1.buttonReceiveStateIconClass).to.be.equal('button-icon-0');
            expect(ch5TabButton1.buttonReceiveStateIconUrl).to.be.equal('button-url-0');
            expect(getComputedStyle(iconDiv.children[0]).backgroundImage).not.to.be.equal('');
            done();
          }, 500);
        });
      });
    });

    suite('ch5-tab-button-buttonReceiveStateLabel-buttonReceiveStateScriptLabelHtml', () => {
      let ch5TabButton1;

      setup(async () => {
        const emulatorJson = await fetch('./emulator/buttonreceivestateenable.json').then((response) => response.json());
        const emulator = CrComLib.Ch5Emulator.getInstance();
        emulator.loadScenario(emulatorJson);
        ch5TabButton1 = fixture('ch5-tab-button-buttonReceiveStateLabel-buttonReceiveStateScriptLabelHtml');
      });

      test(`check attribute buttonReceiveStateLabel and buttonReceiveStateScriptLabelHtml`, (done) => {
        ch5TabButton1.setAttribute('numberOfItems', 2);
        ch5TabButton1.setAttribute('orientation', 'horizontal');
        CrComLib.publishEvent('b', 'btn-scriptlabel-label', true);
        flush(() => {
          setTimeout(() => {
            const iconDiv = document.querySelector('.ch5-button--label');
            expect(ch5TabButton1.buttonReceiveStateLabel).to.be.equal('button-label-0');
            expect(ch5TabButton1.buttonReceiveStateScriptLabelHtml).to.be.equal('button-script-0');
            expect(iconDiv.children[0].innerHTML).to.be.equal('set-script-0');
            done();
          }, 500);
        });
      });
    });

    suite('ch5-tab-button-buttonReceiveStateShow', () => {
      let ch5TabButton1;

      setup(async () => {
        const emulatorJson = await fetch('./emulator/buttonreceivestateenable.json').then((response) => response.json());
        const emulator = CrComLib.Ch5Emulator.getInstance();
        emulator.loadScenario(emulatorJson);
        ch5TabButton1 = fixture('ch5-tab-button-buttonReceiveStateShow');
      });

      test(`check attribute buttonReceiveStateShow`, (done) => {
        ch5TabButton1.setAttribute('numberOfItems', 2);
        ch5TabButton1.setAttribute('orientation', 'vertical');
        CrComLib.publishEvent('b', 'trig1', true);
        flush(() => {
          setTimeout(() => {
            expect(ch5TabButton1.buttonReceiveStateShow).to.be.equal('btn-show');
            expect(getDiv(ch5TabButton1).children[0].children[0].classList.contains('ch5-hide-dis')).to.be.equal(true);
            expect(getDiv(ch5TabButton1).classList.contains('ch5-tab-button--orientation-vertical')).to.be.equal(true);
            expect(getDiv(ch5TabButton1).classList.contains('ch5-tab-button--stretch-both')).to.be.equal(true);
            done();
          }, 500);
        });
      });
    });

    suite('ch5-tab-button-buttonReceiveStateEnable', () => {
      let ch5TabButton1;

      setup(async () => {
        const emulatorJson = await fetch('./emulator/buttonreceivestateenable.json').then((response) => response.json());
        const emulator = CrComLib.Ch5Emulator.getInstance();
        emulator.loadScenario(emulatorJson);
        ch5TabButton1 = fixture('ch5-tab-button-buttonReceiveStateEnable');
      });

      test(`check attribute buttonReceiveStateEnable`, (done) => {
        ch5TabButton1.setAttribute('numberOfItems', 2);
        ch5TabButton1.setAttribute('orientation', 'vertical');
        CrComLib.publishEvent('b', 'btn-enable', true);
        flush(() => {
          setTimeout(() => {
            const divTag = document.querySelector('.ch5-button');
            expect(ch5TabButton1.buttonReceiveStateEnable).to.be.equal('button-enable-0');
            expect(divTag.classList.contains('ch5-button--disabled')).to.be.equal(true);
            expect(getDiv(ch5TabButton1).classList.contains('ch5-tab-button--orientation-vertical')).to.be.equal(true);
            expect(getDiv(ch5TabButton1).classList.contains('ch5-tab-button--stretch-both')).to.be.equal(true);
            done();
          }, 500);
        });
      });
    });

  </script>
</body>

</html>