<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <script src="/webcomponentsjs/webcomponents-lite.js"></script>
  <script src="/bower_components/web-component-tester/browser.js"></script>
  <link rel="stylesheet" type="text/css" href="/wct_tests/themes/crestron-components-assets/base.css">
  <script src="/wct_tests/js/helpers.js"></script>
  <script src="/build_bundles/umd/cr-com-lib.js"></script>
</head>

<body>
  <test-fixture id="ch5-subpage-reference-list-booleanJoinIncrement-attributes">
    <template id="templateWidgetId">
      <ch5-button type="primary" label="Loading..." sendEventOnClick="trigger_change_value">
        <ch5-button-label>
          <template>
            <ch5-jointotext-boolean value="{{idx}}" receiveStateValue="100" textWhenTrue="Pause" textWhenFalse="Play">
            </ch5-jointotext-boolean>
          </template>
        </ch5-button-label>
      </ch5-button>
    </template>
    <div>
      <ch5-subpage-reference-list widgetId="templateWidgetId" scrollbar="true" orientation="horizontal"
        numberOfItems="50" rows="3" booleanjoinIncrement="20" indexId="idx" id="subpagereferencelist">
      </ch5-subpage-reference-list>
    </div>
  </test-fixture>

  <test-fixture id="ch5-subpage-reference-list-booleanJoinIncrement-attributes1">
    <template id="templateWidgetId1">
      <ch5-button type="primary" label="Loading..." sendEventOnClick="trigger_change_value">
        <ch5-button-label>
          <template>
            <ch5-jointotext-boolean value="{{idx}}" receiveStateValue="100" textWhenTrue="Pause" textWhenFalse="Play">
            </ch5-jointotext-boolean>
          </template>
        </ch5-button-label>
      </ch5-button>
    </template>
    <div>
      <ch5-subpage-reference-list widgetId="templateWidgetId1" scrollbar="true" orientation="horizontal"
        numberOfItems="50" rows="3" booleanjoinIncrement="a" indexId="idx" id="subpagereferencelist1">
      </ch5-subpage-reference-list>
    </div>
  </test-fixture>

  <test-fixture id="ch5-subpage-reference-list-booleanJoinIncrement-attributes2">
    <template id="templateWidgetId2">
      <ch5-button type="primary" label="Loading..." sendEventOnClick="trigger_change_value">
        <ch5-button-label>
          <template>
            <ch5-jointotext-boolean value="{{idx}}" receiveStateValue="100" textWhenTrue="Pause" textWhenFalse="Play">
            </ch5-jointotext-boolean>
          </template>
        </ch5-button-label>
      </ch5-button>
    </template>
    <div>
      <ch5-subpage-reference-list widgetId="templateWidgetId2" scrollbar="true" orientation="horizontal"
        numberOfItems="50" rows="3" booleanjoinIncrement="-20" indexId="idx" id="subpagereferencelist2">
      </ch5-subpage-reference-list>
    </div>
  </test-fixture>

  <test-fixture id="ch5-subpage-reference-list-booleanJoinIncrement-attributes3">
    <template id="templateWidgetId3">
      <ch5-button type="primary" label="Loading..." sendEventOnClick="trigger_change_value">
        <ch5-button-label>
          <template>
            <ch5-jointotext-boolean value="{{idx}}" receiveStateValue="100" textWhenTrue="Pause" textWhenFalse="Play">
            </ch5-jointotext-boolean>
          </template>
        </ch5-button-label>
      </ch5-button>
    </template>
    <div>
      <ch5-subpage-reference-list widgetId="templateWidgetId3" scrollbar="true" orientation="horizontal"
        numberOfItems="50" rows="3" booleanjoinIncrement="" indexId="idx" id="subpagereferencelist3">
      </ch5-subpage-reference-list>
    </div>
  </test-fixture>

  <test-fixture id="ch5-subpage-reference-list-booleanJoinIncrement-attributes4">
    <template id="templateWidgetId4">
      <ch5-button type="primary" label="Loading..." sendEventOnClick="trigger_change_value">
        <ch5-button-label>
          <template>
            <ch5-jointotext-boolean value="{{idx}}" receiveStateValue="100" textWhenTrue="Pause" textWhenFalse="Play">
            </ch5-jointotext-boolean>
          </template>
        </ch5-button-label>
      </ch5-button>
    </template>
    <div>
      <ch5-subpage-reference-list widgetId="templateWidgetId4" scrollbar="true" orientation="horizontal"
        numberOfItems="50" rows="3" booleanjoinIncrement="true" indexId="idx" id="subpagereferencelist4">
      </ch5-subpage-reference-list>
    </div>
  </test-fixture>

  <test-fixture id="ch5-subpage-reference-list-booleanJoinIncrement-attributes5">
    <template id="templateWidgetId5">
      <ch5-button type="primary" label="Loading..." sendEventOnClick="trigger_change_value">
        <ch5-button-label>
          <template>
            <ch5-jointotext-boolean value="{{idx}}" receiveStateValue="100" textWhenTrue="Pause" textWhenFalse="Play">
            </ch5-jointotext-boolean>
          </template>
        </ch5-button-label>
      </ch5-button>
    </template>
    <div>
      <ch5-subpage-reference-list widgetId="templateWidgetId5" scrollbar="true" orientation="horizontal"
        numberOfItems="50" rows="3" booleanjoinIncrement="30" indexId="idx" id="subpagereferencelist5">
      </ch5-subpage-reference-list>
    </div>
  </test-fixture>
  <script>
    suite('ch5-subpage-reference-list-booleanJoinIncrement-attributes-value', () => {
      let ch5SubpageReferenceList;
      let ch5SubpageReferenceList1;
      let ch5SubpageReferenceList2;
      let ch5SubpageReferenceList3;
      let ch5SubpageReferenceList4;
      let ch5SubpageReferenceList5;

      setup(async () => {
        ch5SubpageReferenceList = document.getElementById("subpagereferencelist");
        ch5SubpageReferenceList1 = document.getElementById("subpagereferencelist1");
        ch5SubpageReferenceList2 = document.getElementById("subpagereferencelist2");
        ch5SubpageReferenceList3 = document.getElementById("subpagereferencelist3");
        ch5SubpageReferenceList4 = document.getElementById("subpagereferencelist4");
        ch5SubpageReferenceList5 = document.getElementById("subpagereferencelist5");
      });


      test('booleanjoinIncrement with valid value  20', (done) => {
        flush(() => {
          setTimeout(() => {
            expect(ch5SubpageReferenceList.children[0].children[1].children[0].children[1].children[0].children[0].children[0].children[0].tagName).to.be.equal('CH5-JOINTOTEXT-BOOLEAN');
            expect(ch5SubpageReferenceList.children[0].children[1].children[0].children[1].children[0].children[0].children[0].children[0].getAttribute('receivestatevalue')).to.be.equal((100 + 20).toString());
            done();
          }, 100);
        });
      });

      test('booleanjoinIncrement with invalid value  a', (done) => {
        flush(() => {
          setTimeout(() => {
            expect(ch5SubpageReferenceList1.children[0].children[0].children[0].children[1].children[0].children[0].children[0].children[0].tagName).to.be.equal('CH5-JOINTOTEXT-BOOLEAN');
            expect(ch5SubpageReferenceList1.children[0].children[0].children[0].children[1].children[0].children[0].children[0].children[0].getAttribute('receivestatevalue')).to.be.equal((100).toString());
            done();
          }, 100);
        });
      });

      test('booleanjoinIncrement with invalid value  -20', (done) => {
        flush(() => {
          setTimeout(() => {
            expect(ch5SubpageReferenceList2.children[0].children[0].children[0].children[1].children[0].children[0].children[0].children[0].tagName).to.be.equal('CH5-JOINTOTEXT-BOOLEAN');
            expect(ch5SubpageReferenceList2.children[0].children[0].children[0].children[1].children[0].children[0].children[0].children[0].getAttribute('receivestatevalue')).to.be.equal((100).toString());
            done();
          }, 100);
        });
      });

      test('booleanjoinIncrement with invalid value empty string ', (done) => {
        flush(() => {
          setTimeout(() => {
            expect(ch5SubpageReferenceList3.children[0].children[0].children[0].children[1].children[0].children[0].children[0].children[0].tagName).to.be.equal('CH5-JOINTOTEXT-BOOLEAN');
            expect(ch5SubpageReferenceList3.children[0].children[0].children[0].children[1].children[0].children[0].children[0].children[0].getAttribute('receivestatevalue')).to.be.equal((100).toString());
            done();
          }, 100);
        });
      });

      test('booleanjoinIncrement with invalid value true ', (done) => {
        flush(() => {
          setTimeout(() => {
            expect(ch5SubpageReferenceList4.children[0].children[0].children[0].children[1].children[0].children[0].children[0].children[0].tagName).to.be.equal('CH5-JOINTOTEXT-BOOLEAN');
            expect(ch5SubpageReferenceList4.children[0].children[0].children[0].children[1].children[0].children[0].children[0].children[0].getAttribute('receivestatevalue')).to.be.equal((100).toString());
            done();
          }, 100);
        });
      });

      test('booleanjoinIncrement with valid 30 ', (done) => {
        ch5SubpageReferenceList5.setAttribute('booleanjoinIncrement', 30);
        flush(() => {
          setTimeout(() => {
            expect(ch5SubpageReferenceList5.children[0].children[1].children[0].children[1].children[0].children[0].children[0].children[0].tagName).to.be.equal('CH5-JOINTOTEXT-BOOLEAN');
            expect(ch5SubpageReferenceList5.children[0].children[1].children[0].children[1].children[0].children[0].children[0].children[0].getAttribute('receivestatevalue')).to.be.equal((100 + 30).toString());
            done();
          }, 500);
        });
      });

    });
  </script>
</body>

</html>